{"version":3,"sources":["src/services/utils.service.js"],"names":["saltRounds","users","db","dateDiff","date","diffStr","currDate","createdDate","diff","generateOTP","min","max","Math","floor","random","validateEmail","email","re","test","getReqValues","req","_","extend","body","params","query","password","user","salt","bcrypt","genSaltSync","hash","hashSync","updatePassword","pass","comparePassword","pw","compareSync","unLinkFilePath","filePath","Promise","resolve","fs","unlink","err","status","message","getActivityLogs","notify","path","join","__dirname","readFile","res","notifyInfo","JSON","parse","data","error","ageCalculation","dob","diff_ms","Date","now","getTime","age","abs","getUTCFullYear","transporter","mailOptions","nodemailer","createTransport","host","CONFIG","smtpHost","auth","commonEmail","commonEmailPwd","messageObject","from","to","subject","text","sendMail","info","console","log","response","sendVerificationEmail","mailData","mailTransport","emailOtpTemplate","readHTMLFile","html","template","Handlebars","compile","replacements","otp","htmlToSend","commonMail","emailId","callback","encoding","generateToken","mobileResponse","tokenObject","id","_id","reject","jsonwebtoken","sign","jwtSecret","expiresIn","jwtTokenExpire","token","errorMessage","success","initialUserRecords","uploadPath","initialRecords","Object","keys","forEach","tableName","records","createInitialRecord","create","monthIdtoMonth","monthDiff","startYear","endYear","startMonth","endMonth","dateFrom","dateTo","getMonth","getFullYear"],"mappings":"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","file":"utils.service.js","sourceRoot":"../../../../.."}